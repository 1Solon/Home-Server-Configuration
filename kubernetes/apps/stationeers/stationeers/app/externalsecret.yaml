---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/external-secrets.io/externalsecret_v1beta1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: stationeers
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: onepassword-connect
  target:
    name: stationeers-secrets
    template:
      engineVersion: v2
      data:
        # App
        TZ: ${TZ}
        SERVER_NAME: "Solon's Stationeers Server"
        SAVE_NAME: "solon-server"
        WORLD_TYPE: "Mars2"
        DIFFICULTY: "Stationeer"
        SERVER_VISIBLE: "true"
        START_LOCAL_HOST: "true"
        UPNP_ENABLED: "false"
        SERVER_MAX_PLAYERS: "10"
        AUTO_SAVE: "true"
        SAVE_INTERVAL: "300"
        LOCAL_IP_ADDRESS: "0.0.0.0"
        GAME_PORT: "27016"
        SERVER_PASSWORD: "{{ .server_password }}"
        SERVER_AUTH_SECRET: "{{ .server_auth_secret }}"
  dataFrom:
    - extract:
        key: stationeers
